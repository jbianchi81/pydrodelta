{
  "$id": "topology.json",
  "schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Topology",
  "type": "object",
  "properties": {
    "timestart": {
      "description": "start date of observations period (datetime or timedelta relative to now)",
      "$ref": "dateorinterval.json"
    },
    "timeend": {
      "description": "end date of observations period (datetime or timedelta relative to now)",
      "$ref": "dateorinterval.json"
    },
    "forecast_timeend": {
      "description": "forecast horizon (datetime or timedelta relative to timeend)",
      "$ref": "dateorinterval.json"
    },
    "time_offset": {
      "description": "time of day where timesteps start",
      "$ref": "dateorinterval.json"
    },
    "nodes": {
      "description": "information nodes of the topology",
      "type": "array",
      "items": {
        "$ref": "node.json"
      }
    },
    "analysis": {
      "description": "analysis actions to perform",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "concatenateProno",
          "uploadData"
        ]
      }
    },
    "cal_id": {
      "type": "integer"
    },
    "plot_params": {
      "href": "plotparams.json"
    },
    "interpolation_limit": {
      "$ref": "timeinterval.json"
    },
    "extrapolate": {
      "type": "boolean"
    }
  },
  "required": [
    "timestart",
    "timeend",
    "nodes"
  ]
}